



<!DOCTYPE html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="es">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.4">
    
    
      
        <title>Práctica 10: Programación Orientada a Objetos en Swift 1 - LPP</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../../#practica-10-programacion-orientada-a-objetos-en-swift-1" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="LPP" class="md-header-nav__button md-logo">
          
            <img src="../../imagenes/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                LPP
              </span>
              <span class="md-header-nav__topic">
                Práctica 10: Programación Orientada a Objetos en Swift 1
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="LPP" class="md-nav__button md-logo">
      
        <img src="../../imagenes/logo.png" width="48" height="48">
      
    </a>
    LPP
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Teoría
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Teoría
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema00-descripcion-asignatura/tema00-descripcion-asignatura.html" title="Descripción de la asignatura" class="md-nav__link">
      Descripción de la asignatura
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema01-historia-lenguajes-programacion/tema01-historia-lenguajes-programacion.html" title="Tema 1: Historia de los lenguajes de programación" class="md-nav__link">
      Tema 1: Historia de los lenguajes de programación
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema02-programacion-funcional/tema02-programacion-funcional.html" title="Tema 2: Programación funcional" class="md-nav__link">
      Tema 2: Programación funcional
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema03-procedimientos-recursivos/tema03-procedimientos-recursivos.html" title="Tema 3: Procedimientos recursivos" class="md-nav__link">
      Tema 3: Procedimientos recursivos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema04-estructuras-recursivas/tema04-estructuras-recursivas.html" title="Tema 4: Estructuras recursivas" class="md-nav__link">
      Tema 4: Estructuras recursivas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../teoria/tema05-programacion-funcional-swift/tema05-programacion-funcional-swift.html" title="Tema 5: Programación funcional con Swift" class="md-nav__link">
      Tema 5: Programación funcional con Swift
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Seminarios
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Seminarios
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../seminarios/seminario1-scheme/seminario1-scheme.html" title="Seminario de Scheme" class="md-nav__link">
      Seminario de Scheme
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../seminarios/seminario2-swift/seminario2-swift.html" title="Seminario de Swift" class="md-nav__link">
      Seminario de Swift
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Prácticas
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Prácticas
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../practica01/practica01.html" title="Práctica 1" class="md-nav__link">
      Práctica 1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica02/practica02.html" title="Práctica 2" class="md-nav__link">
      Práctica 2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica03/practica03.html" title="Práctica 3" class="md-nav__link">
      Práctica 3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica04/practica04.html" title="Práctica 4" class="md-nav__link">
      Práctica 4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica05/practica05.html" title="Práctica 5" class="md-nav__link">
      Práctica 5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica06/practica06.html" title="Práctica 6" class="md-nav__link">
      Práctica 6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica07/practica07.html" title="Práctica 7" class="md-nav__link">
      Práctica 7
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../practica08/practica08.html" title="Práctica 8" class="md-nav__link">
      Práctica 8
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#entrega-de-la-practica" title="Entrega de la práctica" class="md-nav__link">
    Entrega de la práctica
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejercicio-1" title="Ejercicio 1" class="md-nav__link">
    Ejercicio 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-2" title="Ejercicio 2" class="md-nav__link">
    Ejercicio 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-3" title="Ejercicio 3" class="md-nav__link">
    Ejercicio 3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-4" title="Ejercicio 4" class="md-nav__link">
    Ejercicio 4
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="practica-10-programacion-orientada-a-objetos-en-swift-1">Práctica 10: Programación Orientada a Objetos en Swift 1<a class="headerlink" href="#practica-10-programacion-orientada-a-objetos-en-swift-1" title="Permanent link">&para;</a></h1>
<h2 id="entrega-de-la-practica">Entrega de la práctica<a class="headerlink" href="#entrega-de-la-practica" title="Permanent link">&para;</a></h2>
<p>Para entregar la práctica debes subir a Moodle el fichero
<code>practica10.swift</code> con una cabecera inicial con tu nombre y apellidos,
y las soluciones de cada ejercicio separadas por comentarios.</p>
<h3 id="ejercicio-1">Ejercicio 1<a class="headerlink" href="#ejercicio-1" title="Permanent link">&para;</a></h3>
<p>a) El siguiente código usa observadores de propiedades y una variable
del tipo (estática). </p>
<p>¿Qué se imprime al final de su ejecución? Reflexiona sobre el
funcionamiento del código, compruébalo con el compilador y experimenta
haciendo cambios y comprobando el resultado.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">struct</span> <span class="nc">Valor</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">valor</span><span class="p">:</span> <span class="nb">Int</span> <span class="p">=</span> <span class="mi">0</span> <span class="p">{</span>
        <span class="kr">willSet</span> <span class="p">{</span>
            <span class="n">Valor</span><span class="p">.</span><span class="n">z</span> <span class="o">+=</span> <span class="n">newValue</span>
        <span class="p">}</span>        
        <span class="kr">didSet</span> <span class="p">{</span>
            <span class="k">if</span> <span class="n">valor</span> <span class="o">&gt;</span> <span class="mi">10</span> <span class="p">{</span>
                <span class="n">valor</span> <span class="p">=</span> <span class="mi">10</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="kd">static</span> <span class="kd">var</span> <span class="nv">z</span> <span class="p">=</span> <span class="mi">0</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nv">c1</span> <span class="p">=</span> <span class="n">Valor</span><span class="p">()</span>
<span class="kd">var</span> <span class="nv">c2</span> <span class="p">=</span> <span class="n">Valor</span><span class="p">()</span>
<span class="n">c1</span><span class="p">.</span><span class="n">valor</span> <span class="p">=</span> <span class="mi">20</span>
<span class="n">c2</span><span class="p">.</span><span class="n">valor</span> <span class="p">=</span> <span class="mi">8</span>
<span class="bp">print</span><span class="p">(</span><span class="n">c1</span><span class="p">.</span><span class="n">valor</span> <span class="o">+</span> <span class="n">c2</span><span class="p">.</span><span class="n">valor</span> <span class="o">+</span> <span class="n">Valor</span><span class="p">.</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p>b) El siguiente código utiliza la inicialización de una clase. </p>
<p>¿Qué errores tiene? ¿Qué se imprimiría en su ejecución una vez
arreglado? Intenta descubrirlo sin utilizar el compilador. Prueba
distintas formas de arreglar el código cambiando lo mínimo posible de
lo ya definido (por ejemplo, no debes cambiar la función
<code>prueba</code>). Compruébalo con el compilador.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nf">prueba</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Int</span><span class="p">?</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">nil</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">x</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">A</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">a</span> <span class="p">=</span> <span class="n">prueba</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="mi">100</span><span class="p">)</span>
    <span class="kd">var</span> <span class="nv">b</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="nb">Int</span>
    <span class="kd">init</span><span class="p">()</span> <span class="p">{}</span>
    <span class="kd">init</span><span class="p">(</span><span class="n">b</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="kc">self</span><span class="p">.</span><span class="n">b</span> <span class="p">=</span> <span class="n">c</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nv">a</span> <span class="p">=</span> <span class="n">A</span><span class="p">(</span><span class="n">b</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
<span class="kd">let</span> <span class="nv">b</span><span class="p">:</span> <span class="nb">Int</span> <span class="p">=</span> <span class="n">a</span><span class="p">.</span><span class="n">a</span>
<span class="bp">print</span><span class="p">(</span><span class="s">&quot;El valor de a.a es: </span><span class="si">\(</span><span class="n">b</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p>c) Escribe un ejemplo de código en el que definas una relación de
herencia entre una clase base y una clase derivada. Comprueba en el
código que un objeto de la clase derivada hereda las propiedades y
métodos de la clase base.</p>
<p>Investiga sobre lo el funcionamiento de la herencia en Swift. Escribe
ejemplos en donde compruebes este funcionamiento. Algunos ejemplos de
preguntas que puedes investigar (puedes añadir tú más preguntas):</p>
<ul>
<li>¿Se puede sobreescribir el valor de una propiedad almacenada? ¿Y
calculada? </li>
<li>¿Se puede añadir un observador a una propiedad de la clase base en
  una clase derivada?</li>
<li>¿Hereda la clase derivada propiedades y métodos estáticos de la clase base?</li>
<li>¿Cómo se puede llamar a la implementación de un método de la clase
  base en una sobreescritura de ese mismo método en la clase derivada?</li>
</ul>
<h3 id="ejercicio-2">Ejercicio 2<a class="headerlink" href="#ejercicio-2" title="Permanent link">&para;</a></h3>
<p>Supongamos la siguiente clase <code>MisPalabras</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">MisPalabras</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nv">guardadas</span><span class="p">:</span> <span class="p">[</span><span class="nb">String</span><span class="p">]</span> <span class="p">=</span> <span class="p">[]</span>
    <span class="kd">func</span> <span class="nf">guarda</span><span class="p">(</span><span class="n">palabra</span><span class="p">:</span> <span class="nb">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">guardadas</span> <span class="p">=</span> <span class="n">guardadas</span> <span class="o">+</span> <span class="p">[</span><span class="n">palabra</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nv">palabras</span> <span class="p">=</span> <span class="n">MisPalabras</span><span class="p">()</span>
<span class="n">palabras</span><span class="p">.</span><span class="n">guarda</span><span class="p">(</span><span class="n">palabra</span><span class="p">:</span> <span class="s">&quot;Hola&quot;</span><span class="p">)</span>
<span class="n">palabras</span><span class="p">.</span><span class="n">guarda</span><span class="p">(</span><span class="n">palabra</span><span class="p">:</span> <span class="s">&quot;me&quot;</span><span class="p">)</span>
<span class="n">palabras</span><span class="p">.</span><span class="n">guarda</span><span class="p">(</span><span class="n">palabra</span><span class="p">:</span> <span class="s">&quot;llamo&quot;</span><span class="p">)</span>
<span class="n">palabras</span><span class="p">.</span><span class="n">guarda</span><span class="p">(</span><span class="n">palabra</span><span class="p">:</span> <span class="s">&quot;Yolanda&quot;</span><span class="p">)</span>
<span class="bp">print</span><span class="p">(</span><span class="n">palabras</span><span class="p">.</span><span class="n">guardadas</span><span class="p">)</span>
<span class="c1">// [&quot;Hola&quot;, &quot;me&quot;, &quot;llamo&quot;, &quot;Yolanda&quot;]</span>
</pre></div>
</td></tr></table>

<p>Debes añadir una <strong>propiedad calculada</strong> <code>logitud</code> que devuelva la suma de las
longitudes de todas las palabras guardadas (usa una función de orden
superior para calcular esta suma). </p>
<p>Haz también que sea una <strong>propiedad modificable</strong> de la siguiente forma:</p>
<ul>
<li>Si se intenta asignar un valor mayor o igual que la longitud de las cadenas
  guardadas, o un número negativo, no se hace nada.</li>
<li>Si se asigna un valor menor que la longitud de las cadenas se deben
  dejar guardadas sólo las palabras que suman esa longitud, recortando la última
  de ellas si es necesario.</li>
</ul>
<p>Ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="bp">print</span><span class="p">(</span><span class="n">palabras</span><span class="p">.</span><span class="n">longitud</span><span class="p">)</span>
<span class="c1">// 18</span>
<span class="n">palabras</span><span class="p">.</span><span class="n">longitud</span> <span class="p">=</span> <span class="mi">10</span>
<span class="bp">print</span><span class="p">(</span><span class="n">palabras</span><span class="p">.</span><span class="n">guardadas</span><span class="p">)</span>
<span class="c1">// [&quot;Hola&quot;, &quot;me&quot;, &quot;llam&quot;]</span>
</pre></div>
</td></tr></table>

<p><strong>Ayuda</strong>: Puedes utilizar la siguiente función <code>recorta</code> para
recortar una palabra:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nf">recorta</span><span class="p">(</span><span class="kc">_</span> <span class="n">palabra</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="n">hasta</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">String</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">hasta</span> <span class="o">&gt;=</span> <span class="n">palabra</span><span class="p">.</span><span class="bp">count</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">palabra</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
       <span class="kd">let</span> <span class="nv">start</span> <span class="p">=</span> <span class="n">palabra</span><span class="p">.</span><span class="n">startIndex</span>
       <span class="kd">let</span> <span class="nv">end</span> <span class="p">=</span>  <span class="n">palabra</span><span class="p">.</span><span class="n">index</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">offsetBy</span><span class="p">:</span> <span class="n">hasta</span><span class="p">)</span>
       <span class="k">return</span> <span class="nb">String</span><span class="p">(</span><span class="n">palabra</span><span class="p">[</span><span class="n">start</span><span class="p">..&lt;</span><span class="n">end</span><span class="p">])</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="bp">print</span><span class="p">(</span><span class="n">recorta</span><span class="p">(</span><span class="s">&quot;Hola&quot;</span><span class="p">,</span> <span class="n">hasta</span><span class="p">:</span> <span class="mi">2</span><span class="p">))</span>
<span class="c1">// Ho</span>
<span class="bp">print</span><span class="p">(</span><span class="n">recorta</span><span class="p">(</span><span class="s">&quot;Hola&quot;</span><span class="p">,</span> <span class="n">hasta</span><span class="p">:</span> <span class="mi">3</span><span class="p">))</span>
<span class="c1">// Hol</span>
<span class="bp">print</span><span class="p">(</span><span class="n">recorta</span><span class="p">(</span><span class="s">&quot;Hola&quot;</span><span class="p">,</span> <span class="n">hasta</span><span class="p">:</span> <span class="mi">4</span><span class="p">))</span>
<span class="c1">// Hola</span>
<span class="bp">print</span><span class="p">(</span><span class="n">recorta</span><span class="p">(</span><span class="s">&quot;Hola&quot;</span><span class="p">,</span> <span class="n">hasta</span><span class="p">:</span> <span class="mi">5</span><span class="p">))</span>
<span class="c1">// Hola</span>
</pre></div>
</td></tr></table>

<h3 id="ejercicio-3">Ejercicio 3<a class="headerlink" href="#ejercicio-3" title="Permanent link">&para;</a></h3>
<p>En este ejercicio vamos a trabajar con estructuras y clases
geométricas: <code>Punto</code>, <code>Tamaño</code>, <code>Rectangulo</code> y <code>Circulo</code>. Vamos a
definir propiedades almacenadas y propiedades calculadas para todas
las figuras geométricas.</p>
<ul>
<li>Para usar la función <code>sqrt</code> debes importar la librería <code>Foundation</code>:</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">import</span> <span class="nc">Foundation</span>
</pre></div>
</td></tr></table>

<ul>
<li>El valor de la constante matemática <em>pi</em> lo puedes obtener con la
  propiedad <code>Double.pi</code>.</li>
</ul>
<p><strong>Estructuras <code>Punto</code> y <code>Tamaño</code></strong></p>
<p>Las debes declarar tal y como aparecen en los apuntes.</p>
<p><strong>Clase <code>Rectangulo</code></strong></p>
<ul>
<li>Propiedades de instancia almacenadas: <ul>
<li><code>origen</code> (<code>Punto</code>) que contiene las coordenadas de la esquina
  inferior izquierda del rectángulo.</li>
<li><code>tamaño</code> (<code>Tamaño</code>) que contiene las dimensiones del rectángulo. </li>
<li>Ambas propiedades se inicializan en un inicializador.</li>
</ul>
</li>
<li>Propiedades de instancia calculadas: <ul>
<li><code>centro</code> (<code>Punto</code>, de lectura y escritura) que devuelve el
  centro del rectángulo. El <code>setter</code> modifica la posición del
  rectángulo manteniendo fijo su tamaño.</li>
<li><code>area</code> (<code>Double</code>, sólo lectura ) que devuelve el área del rectángulo. </li>
</ul>
</li>
</ul>
<p><strong>Clase <code>Circulo</code></strong></p>
<ul>
<li>Propiedades de instancia almacenadas:<ul>
<li><code>centro</code> (<code>Punto</code>) que contiene las coordenadas del centro del
  círculo.</li>
<li><code>radio</code> (<code>Double</code>) que contiene la longitud del radio.</li>
<li>Ambas propiedades se inicializan en un inicializador.</li>
</ul>
</li>
<li>Propiedades de instancia calculadas:<ul>
<li><code>area</code> (<code>Double</code>, de lectura y escritura) que devuelve el área
  del círculo. El <code>setter</code> modifica el tamaño del círculo (su
  radio), manteniéndolo en la misma posición.</li>
</ul>
</li>
</ul>
<p><strong>Estructura <code>AlmacenFiguras</code></strong></p>
<ul>
<li>Propiedades de tipo almacenadas:<ul>
<li><code>rectangulos</code> y <code>circulos</code> que contienen respectivamente arrays
  de rectángulos y círculos inicializados a arrays vacíos.</li>
<li>Se actualizan con cada nueva figura creada. En los
  inicializadores de <code>Rectangulo</code> y <code>Circulo</code> se debe
  incluir el código que añade la instancia recién creada al almacén
  de figuras.</li>
</ul>
</li>
<li>Propiedades de tipo calculadas:<ul>
<li><code>numFiguras</code> (<code>Int</code>) que devuelve el número total de figuras creadas.</li>
<li><code>areaTotal</code> (<code>Double</code>) que devuelve la suma total de las áreas
  de todas las figuras creadas.</li>
</ul>
</li>
</ul>
<!-- Nota -->

<table>
<tr><td>

<p><stong>Nota</strong></p>

<p>La definición anterior del almacén de figuras no es demasiado correcta,
porque se utiliza una variable distinta para cada tipo de figura, sin
generalizar. En la práctica de la semana que viene veremos cómo
mejorarlo utilizando protocolos.</p>

</td></tr></table>

<!-- Final de la nota -->

<p>Implementa las estructuras y clases anteriores y escribe algunos
ejemplos de código para probarlas.</p>
<h3 id="ejercicio-4">Ejercicio 4<a class="headerlink" href="#ejercicio-4" title="Permanent link">&para;</a></h3>
<p>En este ejercicio deberás implementar un conjunto de clases con las que podamos "simular" una carrera de coches.</p>
<h4>Función <code>random</code></h4>
<p>Utilizaremos la función del sistema <code>random()</code> que devuelve un número
aleatorio. Hay que importar la librería <code>Glibc</code> (en Linux) y
<code>Foundation</code> (en iOS) para usarla.</p>
<p>A continuación puedes ver un ejemplo de su utilización en un método de
tipo del enumerado <code>MarcaCoche</code> para devolver una marca aleatoria de
coche:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">import</span> <span class="nc">Glibc</span>

<span class="kd">func</span> <span class="nf">rand</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nb">Int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">random</span><span class="p">()</span> <span class="o">%</span> <span class="n">n</span>
<span class="p">}</span>

<span class="kd">enum</span> <span class="nc">MarcaCoche</span><span class="p">:</span> <span class="nb">Int</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">Mercedes</span><span class="p">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">Ferrari</span><span class="p">,</span> <span class="n">RedBull</span><span class="p">,</span> <span class="n">McLaren</span>

    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">random</span><span class="p">()</span> <span class="p">-&gt;</span> <span class="n">MarcaCoche</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nv">maxValue</span> <span class="p">=</span> <span class="n">McLaren</span><span class="p">.</span><span class="n">rawValue</span>

        <span class="kd">let</span> <span class="nv">r</span> <span class="p">=</span> <span class="n">rand</span><span class="p">(</span><span class="n">maxValue</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">MarcaCoche</span><span class="p">(</span><span class="n">rawValue</span><span class="p">:</span> <span class="n">r</span><span class="p">)</span><span class="o">!</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>

<h4>Enumerados y clases que gestionan los vehículos</h4>
<p>Deberás implementar los siguientes enumerados y clases, con las propiedades indicadas.</p>
<p><strong>Enumerado <code>MarcaCoche</code></strong> </p>
<ul>
<li>Posibles valores: <code>Mercedes</code>, <code>Ferrari</code>, <code>RedBull</code> y <code>McLaren</code></li>
<li>Método del tipo <code>random()</code> que devuelva aleatoriamente uno de los
  valores (consultar el código anterior).</li>
</ul>
<p><strong>Enumerado <code>TipoCambio</code></strong></p>
<ul>
<li>Posibles valores: <code>Automatico</code> o <code>Manual</code></li>
<li>Método del tipo <code>random()</code> que devuelve uno de esos valores.</li>
</ul>
<p><strong>Clase base <code>Coche</code></strong></p>
<ul>
<li>Propiedades de instancia almacenadas: <code>velocidadActual</code> (<code>Double</code>),
  <code>marcha</code> (<code>Int</code>), <code>distanciaRecorrida</code> (<code>Double</code>) y <code>marca</code>
  (<code>MarcaCoche</code>).</li>
<li>Propiedad de instancia calculada: <code>descripcion</code> (<code>String</code>), que
  devuelve la marca del coche.</li>
<li>Propiedades del tipo: Constantes <code>velocidadMaxima</code> (<code>Double</code>) y
  <code>marchaMaxima</code> (<code>Int</code>) inicializadas a 150.0 y 6</li>
</ul>
<p><strong>Subclase <code>CocheAutomatico</code></strong></p>
<ul>
<li>Hereda de <code>Coche</code> y sobreescribe la descripción, añadiendo la cadena
  "Automático".</li>
</ul>
<p><strong>Subclase <code>CocheManual</code></strong></p>
<ul>
<li>Hereda de <code>Coche</code> y sobreescribe la descripción, añadiendo la cadena
  "Manual".</li>
</ul>
<p><strong>Observadores de propiedades en las subclases</strong></p>
<p>La velocidad de un coche manual se modifica cambiando su propiedad
<code>marcha</code> y la de un coche automático cambiando su propiedad
<code>velocidadActual</code>. En cada caso hay que definir observadores de
propiedades que modifiquen la otra propiedad.</p>
<p>La velocidad se calcula a partir de la marcha según la siguiente expresión:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">velocidadActual</span> <span class="p">=</span> <span class="mf">25.0</span> <span class="o">*</span> <span class="n">marcha</span>
</pre></div>
</td></tr></table>

<p>Y la marcha se calcula a partir de la velocidad con la expresión que
puedes encontrar en los apuntes de teoría, en la definición de la
clase <code>CocheAutomatico</code>.</p>
<p><strong>Distancia recorrida e información en pantalla</strong></p>
<p>Suponemos que se cambia la velocidad del coche cada hora y que en cada
cambio de velocidad se actualiza la propiedad <code>distanciaRecorrida</code>,
que irá acumulando la distancia recorrida por el coche desde su
inicialización. Cada vez que se cambia la velocidad también se
imprimirá la velocidad actual y la marca del coche en pantalla (ver el
ejemplo al final del ejercicio). Esto se puede implementar también en
los observadores.</p>
<h4>Clase Carrera</h4>
<p>Debes implementar las clases anteriores y una clase <code>Carrera</code> con la
que simular una carrera de <code>n</code> coches que conducen durante <code>k</code> horas.</p>
<p>Un ejemplo de uso de la clase <code>Carrera</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nv">carrera</span> <span class="p">=</span> <span class="n">Carrera</span><span class="p">(</span><span class="n">numCoches</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">horas</span><span class="p">:</span> <span class="mi">3</span><span class="p">)</span>
<span class="bp">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Descripción de la carrera:&quot;</span><span class="p">)</span>
<span class="n">carrera</span><span class="p">.</span><span class="n">descripcion</span><span class="p">()</span>
<span class="bp">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">!!! Comienza la carrera !!!&quot;</span><span class="p">)</span>
<span class="n">carrera</span><span class="p">.</span><span class="n">empezar</span><span class="p">()</span>
<span class="bp">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">!!! Clasificación !!!&quot;</span><span class="p">)</span>
<span class="n">carrera</span><span class="p">.</span><span class="n">clasificacion</span><span class="p">()</span>
</pre></div>
</td></tr></table>

<p>Y su correspondiente salida por pantalla:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Descripción de la carrera:
2 coches con una duración de 3 horas
 McLaren Automatico
 Mercedes Manual

!!! Comienza la carrera !!!

Horas transcurridas 1
McLaren Automatico viajando a 141.0 kilómetros por hora con la marcha 6
Mercedes Manual viajando a 25.0 kilómetros por hora con la marcha 1

Horas transcurridas 2
McLaren Automatico viajando a 114.0 kilómetros por hora con la marcha 5
Mercedes Manual viajando a 25.0 kilómetros por hora con la marcha 1

Horas transcurridas 3
McLaren Automatico viajando a 105.0 kilómetros por hora con la marcha 5
Mercedes Manual viajando a 100.0 kilómetros por hora con la marcha 4

!!! Clasificación !!!
1. McLaren Automatico (360.0 kilómetros recorridos)
2. Mercedes Manual (150.0 kilómetros recorridos)
</pre></div>
</td></tr></table>

<hr />
<p>Lenguajes y Paradigmas de Programación, curso 2018-19<br />
© Departamento Ciencia de la Computación e Inteligencia Artificial, Universidad de Alicante<br />
Domingo Gallardo, Cristina Pomares, Antonio Botía, Francisco Martínez</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.583bbe55.js"></script>
      
        
        
          
          <script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
                <script src="../../assets/javascripts/lunr/lunr.es.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>